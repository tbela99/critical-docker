!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).critical={})}(this,(function(e){"use strict";const n=require("sqlite3").verbose();e.db=function(e,t,o){const i=new n.Database(e,t,o);return new Proxy(i,{get:function(e,n){return"function"==typeof e[n]?function(...t){return new Promise((function(o,i){["configure","close"].includes(n)?o(e[n].apply(e,t)):("function"==typeof t[t.length-1]&&t.pop(),t.push((function(e,n){e?i(e):o(n)})),e[n].apply(e,t))}))}:e[n]}})},Object.defineProperty(e,"__esModule",{value:!0})}));
